<div class="content-group">
	<show-message message="vm.message"></show-message>
	<div class="row text-center">
		<div class="col-md-12">
			<div style="float: right;">
				<i class='icon-calendar3 position-right'> </i> 
				<range-date-picker></range-date-picker>
			</div>
		</div>
	</div>
	<div class="panel panel-flat">
		<div class="container-fluid">
			<div class="row text-center">
			
				<div class="col-md-2">
					<div class="content-group">
						<h3 class="text-semibold no-margin" ng-bind="vm.numberTransactions">
							<i class="icon-calendar5 position-left text-slate"></i>
						</h3>
						<span class="text-muted text-size-small">Transaction</span>
					</div>
				</div>

				<div class="col-md-3">
					<div class="content-group">
						<h3 class="text-semibold no-margin" ng-bind="vm.totalDebit">
							<i class="icon-cash3 position-left text-slate"></i>
						</h3>
						<span class="text-muted text-size-small">Debit</span>
					</div>
				</div>

				<div class="col-md-3">
					<div class="content-group">
						<h3 class="text-semibold no-margin" ng-bind="vm.totalCredit">
							<i class="icon-cash3 position-left text-slate"></i>
						</h3>
						<span class="text-muted text-size-small">Credit</span>
					</div>
				</div>

				<div class="col-md-3">
					<div class="content-group">
						<h3 class="text-semibold no-margin">
							<span ng-if="vm.totalResult >=  0" style="color: green;">${{vm.totalResult}}</span>
							<span ng-if="vm.totalResult < 0" style="color: red;">${{vm.totalResult}}</span>
						</h3>
						<span class="text-muted text-size-small">Result</span>
					</div>
				</div>

				<div class="col-md-1">
					<div class="content-group">
							<div style="display: block;margin-top: 15px;float: right;">
								<button type="button" ng-click="vm.add()" class="btn btn-primary">
									<i class="icon-add position-left"></i>Create
								</button>
							</div>		
					</div>
				</div>
			</div>
		</div>
		<form name="vm.transactionForm" class="form-validate">
			<table ng-table="vm.tableParams" 
					class="table table-bordered table-striped table-condensed editable-table" width="100%">
				<thead>
					<tr class="bg-info-600 border-info-600">
						<th>Description</th>
						<th>Main account</th>
						<th>Sub group</th>
						<th>Debit/Credit</th>
						<th>Price</th>
						<th>Date</th>
						<th style="text-align: right">Actions</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="xt in $data"> 
						<td>
							<span ng-hide="xt.editing || xt.creating">{{xt.description}}</span>
							<div  ng-if="xt.editing || xt.creating" class="form-group has-feedback has-feedback-left" show-errors>
					  		 <input type="text"
									id="description-id"
									name="description"
									ng-minlength="3"
									class="form-control datatable-input"
									ng-model="xt.description">
							 
							   <label  ng-show="vm.transactionForm.description.$touched && 
												vm.transactionForm.description.$invalid"
									    class="validation-error-label"
									    for="description-id">
										Description should contain more than 3 character. 
								</label>
							</div>
						</td>
						<td>
							<span ng-hide="xt.editing || xt.creating">{{xt.account.description}}</span>
							<div  ng-if="xt.editing || xt.creating" class="form-group has-feedback has-feedback-left" show-errors>
								<select ng-model="xt.account"
										class="form-control datatable-input"
									    selected
										ng-options="x.description for x in vm.originalAccounts track by x.description">
								</select>
					  		</div>
						</td>
						<td>
							<span ng-hide="xt.editing || xt.creating">{{xt.accSubGroup.description}}</span>
							<div  ng-if="xt.editing || xt.creating" class="form-group has-feedback has-feedback-left" show-errors>
								<select 
										ng-model="xt.accSubGroup"
										class="form-control datatable-input"
									    selected
										ng-options="x.description for x in vm.getSubAccountByAccount(xt.account) track by x.description">
								</select>
							</div>
						</td>
						<td>
							<div class="checkbox checkbox-switchery switchery-xs">
									<label>
									<input switcher 
										   type="checkbox"
									       class="switchery"
										   checked="checked"
										   ng-model="xt.entrada" ng-change="vm.debitOrCreditUpdate(xt)">
										 <p ng-if="xt.entrada">Debit</p>
										 <p ng-if="!xt.entrada">Credit</p>
									</label>
							</div>
						<td>
							<span ng-hide="xt.editing || xt.creating">{{xt.valor | currency}}</span> 
							<input type="number"  min="0" required ng-if="xt.editing || xt.creating" type="text"
								   class="form-control datatable-input" ng-model="xt.valor">
						</td>
						<td>
							<span>{{xt.dateTransaction | date:'medium'}}</span>
						</td>
						<td align="right" ng-hide="xt.editing || xt.creating">
							<ul class="icons-list">
								<li class="text-primary-900"><a href="#"
									data-popup="tooltip" title data-original-title="Edit"> <span
										class="icon-pencil7" ng-click="vm.edit(xt)"></span>
								</a></li>
								<li class="text-primary-900"><a href="#"
									data-popup="tooltip" title data-original-title="Remove"> <span
										class="icon-trash" ng-click="vm.remove(xt)"></span>
								</a></li>
							</ul>
						</td>
						<td align="right" ng-if="xt.editing">
							<ul class="icons-list">
								<li class="text-primary-600"><a href="#"
									data-popup="tooltip" title data-original-title="ok"> <span
										class="glyphicon glyphicon-ok" required="true"
										ng-click="vm.saveEdition(xt)"></span>
								</a></li>
								<li class="text-danger-600"><a href="#" data-popup="tooltip"
									title data-original-title="cancel"> <span
										class="glyphicon glyphicon-remove"
										ng-click="vm.cancel(xt)"></span>
								</a></li>
							</ul>
						</td>
						<td align="right" ng-if="xt.creating">
							<ul class="icons-list">
								<li class="text-primary-600"><a href="#"
									data-popup="tooltip" title data-original-title="ok"> <span
										class="glyphicon glyphicon-ok" ng-click="vm.create(xt)"></span>
								</a></li>
								<li class="text-danger-600"><a href="#" data-popup="tooltip"
									title data-original-title="cancel"> <span
										class="glyphicon glyphicon-remove"
										ng-click="vm.cancel(xt)"></span>
								</a></li>
							</ul>
						</td>
					</tr>
				</tbody>
			</table>
		</form>
	</div>
</div>

<link href="https://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700,900"	rel="stylesheet" type="text/css">
<link href="css/bootstrap/assets/css/icons/icomoon/styles.css" 	rel="stylesheet" type="text/css">
<link href="css/bootstrap/assets/css/bootstrap.css" rel="stylesheet" 	type="text/css">
<link href="css/bootstrap/assets/css/core.css" rel="stylesheet"	type="text/css">
<link href="css/bootstrap/assets/css/components.css" rel="stylesheet"	type="text/css">
<link href="css/bootstrap/assets/css/colors.css" rel="stylesheet"	type="text/css">

<script type="text/javascript"	src="css/bootstrap/assets/js/core/libraries/jquery.min.js"></script>
<script type="text/javascript"  src="css/bootstrap/assets/js/core/libraries/jquery_ui/widgets.min.js"></script>
<script type="text/javascript"  src="css/bootstrap/assets/js/core/libraries/jquery_ui/effects.min.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/loaders/blockui.min.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/tables/datatables/datatables.min.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/forms/selects/select2.min.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/pages/datatables_basic.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/visualization/d3/d3.min.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/visualization/d3/d3_tooltip.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/forms/styling/switchery.min.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/forms/styling/uniform.min.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/forms/selects/bootstrap_multiselect.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/ui/moment/moment.min.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/pickers/daterangepicker.js"></script>
<script type="text/javascript" src="css/bootstrap/assets/js/plugins/forms/styling/uniform.min.js"></script>
<script type="text/javascript" src="css/bootstrap/assets/js/plugins/forms/styling/switchery.min.js"></script>
<script type="text/javascript" src="css/bootstrap/assets/js/plugins/forms/styling/switch.min.js"></script>
<!-- <script type="text/javascript" src="css/bootstrap/assets/js/pages/form_checkboxes_radios.js"></script> -->

<script type="text/javascript"  src="css/bootstrap/assets/js/core/app.js"></script>