<head>
<link	href="https://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700,900"	rel="stylesheet" type="text/css">
<link href="css/bootstrap/assets/css/icons/icomoon/styles.css" 	rel="stylesheet" type="text/css">
<link href="css/bootstrap/assets/css/bootstrap.css" rel="stylesheet" 	type="text/css">
<link href="css/bootstrap/assets/css/core.css" rel="stylesheet"	type="text/css">
<link href="css/bootstrap/assets/css/components.css" rel="stylesheet"	type="text/css">
<link href="css/bootstrap/assets/css/colors.css" rel="stylesheet"	type="text/css">
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/loaders/pace.min.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/core/libraries/jquery.min.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/core/libraries/bootstrap.min.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/loaders/blockui.min.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/tables/datatables/datatables.min.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/forms/selects/select2.min.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/pages/datatables_basic.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/visualization/d3/d3.min.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/visualization/d3/d3_tooltip.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/forms/styling/switchery.min.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/forms/styling/uniform.min.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/forms/selects/bootstrap_multiselect.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/ui/moment/moment.min.js"></script>
<script type="text/javascript"	src="css/bootstrap/assets/js/plugins/pickers/daterangepicker.js"></script>
<script type="text/javascript" src="css/bootstrap/assets/js/core/app.js"></script>
</head>

<div class="content-group"	ng-controller="xTransactionController as control">
	<div class="row text-center">
		<div class="col-md-6">
			<div style="display:flex; padding-bottom:10px">
				<button type="button" ng-click="addNewXT()"	 class="btn btn-primary">
					<i class="icon-add position-left"></i>Create</a>
				</button>
			</div>
		</div>
		<div class="col-md-6">
			<div style="float: right;">
				<i class='icon-calendar3 position-right'> </i> 
				<range-date-picker></range-date-picker>
			</div>
		</div>
	</div>

	<div class="panel panel-flat">
		<div class="container-fluid">
			<div class="row text-center">
				<div class="col-md-3">
					<div class="content-group">
						<h5 class="text-semibold no-margin">
							<i class="icon-calendar5 position-left text-slate"></i>
							{{control.getTotalNumberOfTransaction()}}
						</h5>
						<span class="text-muted text-size-small"> number of
							transaction</span>
					</div>
				</div>

				<div class="col-md-3">
					<div class="content-group">
						<h5 class="text-semibold no-margin">
							<i class="icon-cash3 position-left text-slate"></i>
							${{control.getTotalDebit()}}
						</h5>
						<span class="text-muted text-size-small">total debit</span>
					</div>
				</div>

				<div class="col-md-3">
					<div class="content-group">
						<h5 class="text-semibold no-margin">
							<i class="icon-cash3 position-left text-slate"></i>
							${{control.getTotalCredit()}}
						</h5>
						<span class="text-muted text-size-small">total credit</span>
					</div>
				</div>

				<div class="col-md-3">
					<div class="content-group">
						<h5 class="text-semibold no-margin">
							<i class="icon-cash3 position-left text-slate"></i> <span
								ng-show="control.getMargin() < 0 " style="color: red;">${{control.getMargin()}}</span>
							<span ng-show="control.getMargin() >=  0" style="color: green;">${{control.getMargin()}}</span>
						</h5>
						<span class="text-muted text-size-small">margin</span>
					</div>
				</div>
			</div>

		</div>
		<table class=" table" width="100%" height="50%">
			<thead>
				<tr class="bg-info-600 border-info-600">
					<th>All Transactions</th>
					<th>Main Account</th>
					<th>Sub Account</th>
					<th>Debit/Credit</th>
					<th>Amount</th>
					<th>Date Creation</th>
					<th style="text-align: right">Actions</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="xt in xtransactions | filter:{filtered: true} | orderBy : dateTransaction: true">
					<td><span ng-hide="xt.editing || xt.creating">{{xt.description}}</span>
						<input ng-show="xt.editing || xt.creating" type="text"
						class="form-control" ng-model="xt.description"></td>
					<td><span ng-hide="xt.editing || xt.creating">{{xt.account.description}}</span>
						<select ng-show="xt.editing || xt.creating" ng-model="xt.account"
						selected
						ng-options="x.description for x in mainGroups track by x.description">
					</select></td>
					<td><span ng-hide="xt.editing || xt.creating">{{xt.accSubGroup.description}}</span>
						<select ng-show="xt.editing || xt.creating"
						ng-model="xt.accSubGroup"
						ng-options="x.description for x in getSubAccountByAccount(xt.account) track by x.description">
					</select></td>
					<td><span ng-hide="xt.editing || xt.creating">{{xt.entrada
							? 'Debit': 'Credit'}}</span> <span ng-show="xt.editing || xt.creating">Db.</span>
						<input type="radio" ng-show="xt.editing || xt.creating"
						ng-model="xt.entrada" value="true"> <span
						ng-show="xt.editing || xt.creating">Cr.</span> <input type="radio"
						ng-show="xt.editing || xt.creating" ng-model="xt.entrada"
						value="false"></td>
					<td><span ng-hide="xt.editing || xt.creating">{{xt.valor
							| currency}}</span> <input type="number" required="true"
						ng-show="xt.editing || xt.creating" type="text"
						class="form-control" ng-model="xt.valor"></td>
					<td><span>{{xt.dateTransaction | date:'medium'}}</span></td>
					<td align="right" ng-hide="xt.editing || xt.creating">
						<ul class="icons-list">
							<li class="text-primary-900"><a href="#"
								data-popup="tooltip" title data-original-title="Edit"> <span
									class="icon-pencil7" ng-click="edit(xt)"></span>
							</a></li>
							<li class="text-primary-900"><a href="#"
								data-popup="tooltip" title data-original-title="Remove"> <span
									class="icon-trash" ng-click="remove(xt)"></span>
							</a></li>
						</ul>
					</td>
					<td align="right" ng-show="xt.editing">
						<ul class="icons-list">
							<li class="text-primary-600"><a href="#"
								data-popup="tooltip" title data-original-title="ok"> <span
									class="glyphicon glyphicon-ok" required="true"
									ng-click="control.saveEdition(xt)"></span>
							</a></li>
							<li class="text-danger-600"><a href="#" data-popup="tooltip"
								title data-original-title="cancel"> <span
									class="glyphicon glyphicon-remove"
									ng-click="control.cancel(xt)"></span>
							</a></li>
						</ul>
					</td>
					<td align="right" ng-show="xt.creating">
						<ul class="icons-list">
							<li class="text-primary-600"><a href="#"
								data-popup="tooltip" title data-original-title="ok"> <span
									class="glyphicon glyphicon-ok" ng-click="control.create(xt)"></span>
							</a></li>
							<li class="text-danger-600"><a href="#" data-popup="tooltip"
								title data-original-title="cancel"> <span
									class="glyphicon glyphicon-remove"
									ng-click="control.cancel(xt)"></span>
							</a></li>
						</ul>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>